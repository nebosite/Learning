import { ILogger } from "../helpers/logger";
import { VERSION } from "../GLOBALS";

//------------------------------------------------------------------------------------------
// The state of the server overall
//------------------------------------------------------------------------------------------
export class ServerModel {

    //------------------------------------------------------------------------------------------
    logger: ILogger
    private _startTime = Date.now();

    //------------------------------------------------------------------------------------------
    // ctor
    //------------------------------------------------------------------------------------------
    constructor(logger: ILogger)
    {
        this.logger = logger;
    }

    //------------------------------------------------------------------------------------------
    // ping
    //------------------------------------------------------------------------------------------
    async ping() {
        let upTime = Date.now() - this._startTime.valueOf();

        return {
            version: VERSION,
            uptime_days: upTime/ (24 * 3600 * 1000),
        };
    }
}

